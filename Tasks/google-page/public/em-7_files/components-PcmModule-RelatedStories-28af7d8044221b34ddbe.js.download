"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[4812],{48614:(e,t,a)=>{var s="/";a.r(t),a.d(t,{default:()=>S});var n=a(67294),l=a(50533),r=a(64316),c=a(93979),i=a(26076),o=a(64433),d=a(85775),m=a(67464),u=a(44722),v=a(75270),b=a(82921),h=a(7798),g=a(3704),p=a(10167),E=a(57080),y=a(57295);const f={};f[v.cf]=(0,b.Z)({chunkName:"components/PcmModule/RelatedStories/styles.makeit.scss",requireAsync:()=>a.e(3443).then(a.bind(a,53443)),requireSync(e){const t=this.resolve(e);return a(t)},resolve:()=>53443});const N=({brand:e,dataAnalytics:t,dataCounter:a,dataTest:s,excludeContentClassification:l,id:v,isInvestingClubPage:b,isInvestingClubUser:y,isProPage:f,isProUser:N,maxItems:C,maxLookbackDays:S,navStatus:{hasFiveThings:A,hasLiveAlert:k,hasNewsAlert:L},stickyOffset:_,styles:O,template:w})=>{var x;const[D,P]=(0,n.useState)(!1),{isMobileWebview:T}=(0,i.dY)(),R="cnbc"===e,Z=R?"RegularArticle-RelatedStories-1":(0,d.J3)(w,"RelatedStories",a),I=Object.values({hasFiveThings:A,hasLiveAlert:k,hasNewsAlert:L}).filter((e=>!0===e)).length;(0,n.useEffect)((()=>{const e=()=>{P(window.pageYOffset>=_)};return o.Z.on("scroll",e,R?"debounce":"none"),()=>{o.Z.remove("scroll",e)}}),[]);const{data:M,error:F}=(0,r.a)(c.Z,{variables:{id:v,maxItems:C,maxLookbackDays:S,brand:e||"cnbc",contentClassification:[],contentType:["article","video"],excludeContentClassification:l||[]},errorPolicy:"all"});F&&(0,u.Py)(new Error("Related Content Fetch Error"),{errorComponent:"RelatedStories",errorCode:u.Xq.GQL,errorMessage:F});const U=(null==M||null===(x=M.relatedContent)||void 0===x?void 0:x.assets)||[],q=R?E:p;if(T||null==U||!U.length)return null;if("cnbc"===e&&(h.Z.isMobile()||b||y||f||N))return null;const H=(0,m.Z)(O.relatedStories,{keyValuePairs:[[O[`banner${I}`],R],[O[`banner${I}Sticky`],D&&R],[O.sticky,D&&!R]]});return n.createElement(n.Fragment,null,n.createElement("div",{className:H,"data-analytics":t,"data-test":s,id:Z},n.createElement("div",{className:O.wrapper},n.createElement("div",{className:O.header},n.createElement("p",{className:O.headline},"Related Stories")),n.createElement("ul",{className:O.list},null==U?void 0:U.map((({shorterHeadline:e,type:t,url:a,section:{sectionLabel:s}},l)=>{const{lineOne:r,lineTwo:c}=(e=>{const t=Math.ceil(e.length/1.8),a=e.lastIndexOf(" ",t);return{lineOne:e.substring(0,a),lineTwo:e.substring(a+1)}})(e);return n.createElement("li",{className:O.item,key:l},n.createElement(g.Q,{to:a,className:O.link},"cnbcvideo"===t&&n.createElement("img",{src:q,alt:"play icon",className:O.playIcon}),n.createElement("div",null,n.createElement("span",{className:O.category},s),n.createElement("span",{className:O.title},r,"Â "),n.createElement("span",{className:O.title},c))))}))))),n.createElement("div",{className:O.spacer}))},C=e=>({navStatus:e.navStatus}),S=(0,l.$j)(C)((0,y.Z)((0,b.G)(f,N)))},57080:(e,t,a)=>{e.exports=a.p+"d96224c39f862c780dfa.svg"},10167:(e,t,a)=>{e.exports=a.p+"5c55c3361b393c2e212d.svg"}}]);